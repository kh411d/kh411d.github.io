<!DOCTYPE html> <html lang="en-us"> <head> <link href="http://gmpg.org/xfn/11" rel="profile"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta http-equiv="content-type" content="text/html; charset=utf-8"> <!-- Enable responsiveness on mobile devices--> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"> <title> Codeigniter HMVC and Your own Layout Library &middot; Khalid Scratch Board </title> <!-- CSS --> <!-- Icons --> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png"> <link rel="shortcut icon" href="/public/favicon.ico"> <!-- RSS --> <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml"> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-8671044-1', 'auto'); ga('send', 'pageview'); </script> <script> var cb = function() { var l = document.createElement('link'); l.rel = 'stylesheet'; l.href = '/public/css/all.css'; var h = document.getElementsByTagName('head')[0]; h.parentNode.insertBefore(l, h); }; var gb = function() { var l = document.createElement('link'); l.rel = 'stylesheet'; l.href = 'http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface'; var h = document.getElementsByTagName('head')[0]; h.parentNode.insertBefore(l, h); }; var raf = requestAnimationFrame || mozRequestAnimationFrame || webkitRequestAnimationFrame || msRequestAnimationFrame; if (raf) { raf(cb); raf(gb); } else { window.addEventListener('load', cb); window.addEventListener('load', gb); } </script> </head> <body> <div class="sidebar"> <div class="container sidebar-sticky"> <div class="sidebar-about"> <h1> <a href="/"> Khalid Scratch Board </a> </h1> <p class="lead">Spontaneously wrote, from me to you to others for everyone â€“ khal.web.id</p> </div> <nav class="sidebar-nav"> <a class="sidebar-nav-item" href="http://about.me/khalidity">About Me</a> </nav> </div> </div> <div class="content container"> <div class="post"> <h1 class="post-title">Codeigniter HMVC and Your own Layout Library</h1> <span class="post-date">07 Jan 2010</span> <p>I&#39;m using HMVC to make my web apps more modular, if you don&#39;t now what is HMVC you can check on Wiki, so then I&#39;m trying to make a partial output from some module to the big layout template , and then I came into problems when I make a layout library as usual you have to generate an instance of CI like this,</p> <div class="highlight"><pre><code class="language-" data-lang="">&lt;pre lang="php"&gt;$this-&gt;obj =&amp; get_instance();
</code></pre></div> <p>and then I&#39;m trying to load a vew from some module,</p> <div class="highlight"><pre><code class="language-" data-lang="">&lt;pre lang="php"&gt;$this-&gt;obj-&gt;load-&gt;view($view,$data);
</code></pre></div> <p>It will become an error, because $view cannot be load up, why ????<br> After checking up inside $this-&gt;obj, it actually only load up the global view of CI (&#39;ex: ../application/views/ ...&#39;)</p> <p>so I check the Modules.php on your libraries folder, HMVC is not overriding the default view of CI,<br> you might have to pass your controller object ( The $this object ) from your controller to your layout library</p> <p>as example :</p> <p>On your module controller :</p> <div class="highlight"><pre><code class="language-" data-lang="">&lt;pre lang="php"&gt;class Post extends Controller {
function Post()
{
parent::Controller();
}
function Read(){
$this-&gt;layout-&gt;load('read.php',$this);
}
}
</code></pre></div> <p>On your Layout library :</p> <div class="highlight"><pre><code class="language-" data-lang="">&lt;pre lang="php"&gt;function load($view,$controller){

$partial = $controller-&gt;load-&gt;view($view,true);

//parse to your big layout
$data['content_module'] = $partial;
$controller-&gt;load-&gt;view($path_to_layout,$data);

}
</code></pre></div> <p>Hope this will help for somebody who have some problem like myself</p> </div> <div id="disqus_thread"></div> <script> var disqus_config = function () { this.page.url = 'http://khalidadisendjaja.web.id/2010/01/07/codeigniter-hmvc-and-your-own-layout-library/'; this.page.identifier = '/2010/01/07/codeigniter-hmvc-and-your-own-layout-library'; }; (function() { var d = document, s = d.createElement('script'); s.src = '//khalidscratchboard.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript> <div class="related"> <h2>Related Posts</h2> <ul class="related-posts"> <li> <h3> <a href="/2016/05/03/bye-wordpress-hello/"> Bye Wordpress, Hello ... ? <small>03 May 2016</small> </a> </h3> </li> <li> <h3> <a href="/2016/01/25/nge-mix-android-di-macbookpc/"> Nge-mix Android di Macbook/PC <small>25 Jan 2016</small> </a> </h3> </li> <li> <h3> <a href="/2016/01/13/os-x-el-capitan-taktik-marketing-terbaru-apple/"> OS X El Capitan, taktik marketing terbaru Apple <small>13 Jan 2016</small> </a> </h3> </li> </ul> </div> </div> </body> </html>
